<!---DO NOT EDIT documentation.html as it is being compiled based on the contents of its .md counterpart file. Edit .md instead with a compiler such as codekit. -->
<style>
    pre {
        width: 52em;
        max-height: 30em;
        padding: .5em;
        background: rgba(0,0,0,0.05);
        max-width:100%;
        overflow:auto;
    }
    pre code {
        background:none;
    }
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        margin-top: 2em;
    }
    h1 code,
    h2 code,
    h3 code,
    h4 code,
    h5 code,
    h6 code {
        font-size: 1em;
    }
</style>

<h1><big>iLawyer Translation Docs</big></h1>

# ACF Fields

## Configurations [Link](/wp-admin/admin.php?page=ilaw-translation-config)

#### Post Type

Required. Repeater field to add post types that will support the plugin's features

## Singular Page Options

#### Language Template Parts

Optional. Sets up page to render translations. NOTE: the theme's templates have to be modified in order for the translations to show. [More info](/wp-admin/admin.php?page=ilaw-translation-welcome)

## Text Setup [Link](/wp-admin/admin.php?page=ilaw-translation-text)

Repeater field for setting up verbiages

For preset/reserved translation keys go to the [Pre-Built Translations](#pre-builttranslations) section

#### Key

Required. Unique Key to retreive the translation when using `ilaw_get_translation` or `ilaw_the_translation`

#### English Fallback 

Required. Value to fallback to if setup language/cpts do not have a translation available

#### [CPT Slug]

Columns generated by values setup in plugin [configurations](/wp-admin/admin.php?page=ilaw-translation-config).

# Pre-Built Translations

For less programming on manipulating third party plugins, This plugin has prebuilt filters to support translations. Using these translation keys allows the plugin to generate translations in certain places for you :.)

## `ilaw_tr_gform_validation_message`

Validation message after the gravity forms heading.

If not set, defaults to the gravity forms default: `There was a problem with your submission. Please review the fields below.`

# Functions

These are the functions you can utilize using this plugin

##  `ilaw_get_translation(`*`string`*` $key)`

Returns [the translation text setup](/wp-admin/admin.php?page=ilaw-translation-text).

`$key` (required) - is the unique name given to the translation/verbiage to output.

Example:

```php
if (function_exists('ilaw_get_translation')){
    $translation = ilaw_get_translation('header_cta');
}
```

##  `ilaw_the_translation(`*`string`*` $key)`

Outputs or echoes [the translation text setup](/wp-admin/admin.php?page=ilaw-translation-text).

`$key` (required) - is the unique name given to the translation/verbiage to output.

Example:

```php
?>
<header class="header-cta">
    <?php ilaw_the_translation('header_cta'); ?>
</header>
<?php
```

##  `is_lang(`*`string`*` $language_post_type = '', `*`int`*` $id = null)`

Checks if the translation custom post type matches the singular post or template parts to use.

`$language_post_type` (required/optional) - The language to check against. if set blank, force falls back to the custom post type if supported, or just plain ol english 

`$id` (optional) - Post ID. falls back to the singular page in view's id


Example:

```php
if(is_lang('tagalog')){
    echo 'Ang pahinang ito ay gumagamit ng wikang tl';
}else{
    echo 'It depends.';
}
```

***NOTE:*** If a function `is_lang` already exists from another plugin, the function can be called as `ilaw_is_lang` to avoid conflict

## `ilaw_tr_menu_location(`*`string`*` $menu_name)`

Plugin registers a translated version of each menu available. This returns the proper menu location

`$menu_name` (required) - string of menu_location for the wp_nav_menu args.

Example of usage:

```php
//before plugin
wp_nav_menu(array(
    'theme_location' => 'main_menu',
    //rest of args
));

//setting up for plugin
wp_nav_menu(array(
    'theme_location' => ilaw_tr_menu_location('main_menu'),
    //rest of args
));
```

NOTE: Make sure that the [menus are setup to their locations](/wp-admin/nav-menus.php) before applying

##  `ilaw_tr_parse(`*`array`*` $data = array())`

Returns data based on set translation of singular post/page. NOTE: This is not for echoing data. If using ACF functions, use `get_field` or `get_sub_field`.

As of now the plugin supports text translations. If there are ACF or data outside the plugin's setup that are created for translating (ie page links/ post objects, strings, images, gravity forms, repeater sub fields, etc.), this function will help output the correct data to retreive.

`$data` (required) - array of translations. Each key must be named after the language/cpt slug it should output for. an item with a key of `fallback` is required to return a value to fall back to in case a translation is not set.

Examples of setup:
```php

/////////////////////////////////////////////////////////////////////// 
// Basic text translations
///////////////////////////////////////////////////////////////////////
?>
<a href="#" class="learn-more-link">
    <?php echo ilaw_tr_parse(array(
        'fallback' => 'Read More',
        'espanol'	=> 'Leer MÃ¡s',
        'tagalog'	=> 'Basahin',
    )); ?>
</a>
<?php

/////////////////////////////////////////////////////////////////////// 
// retreiving repeater acf sub fields
///////////////////////////////////////////////////////////////////////
// start loop + other code here
$video_id = ilaw_tr_parse(array(
        'fallback' => get_sub_field('video_id'),
        'espanol'	=> get_sub_field('video_id_es'),
        'tagalog'	=> get_sub_field('video_id_tl'),
    )),

if($video_id):
?>
    <a href="https://www.youtube.com/watch?v=<?= $video_id ?>">
    <img src="http://img.youtube.com/vi/<?= $video_id ?>/hqdefault.jpg" alt="" />
    </a>
<?php endif; >
// other code here + end loop 

/////////////////////////////////////////////////////////////////////// 
// retreiving gravity forms
///////////////////////////////////////////////////////////////////////
$form_id = ilaw_tr_parse(array(
        'fallback' => get_field('form_id','options'),
        'espanol'	=> get_field('form_id_es','options'),
        'tagalog'	=> get_field('form_id_tl','options'),
    )),

if($form_id):
    gravity_form($form_id, true, true, true, '', true, 124);
endif; >
```
